// Existing function to show/hide sections
function showSection(id) {
    document.querySelectorAll('.search-section').forEach(section => {
            section.style.display = 'none';
                });
                    document.getElementById(id).style.display = 'block';
                    }

                    // IFSC Code Search (Existing)
                    function findIFSC() {
                        const ifsc = document.getElementById("ifscInput").value;
                            if (ifsc.trim() === "") {
                                    alert("Please enter a valid IFSC Code");
                                            return;
                                                }

                                                    fetch(`https://ifsc.razorpay.com/${ifsc}`)
                                                            .then(response => response.json())
                                                                    .then(data => {
                                                                                if (data.BANK) {
                                                                                                document.getElementById("ifscResult").innerHTML = `
                                                                                                                    <p><strong>Bank:</strong> ${data.BANK}</p>
                                                                                                                                        <p><strong>Branch:</strong> ${data.BRANCH}</p>
                                                                                                                                                            <p><strong>Address:</strong> ${data.ADDRESS}</p>
                                                                                                                                                                            `;
                                                                                                                                                                                        } else {
                                                                                                                                                                                                        document.getElementById("ifscResult").innerHTML = `<p>Invalid IFSC Code</p>`;
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                    .catch(error => document.getElementById("ifscResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                    // PIN Code Search (Existing)
                                                                                                                                                                                                                                    function findPin() {
                                                                                                                                                                                                                                        const pin = document.getElementById("pinInput").value;
                                                                                                                                                                                                                                            if (pin.trim() === "") {
                                                                                                                                                                                                                                                    alert("Please enter a valid PIN Code");
                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                    fetch(`https://api.postalpincode.in/pincode/${pin}`)
                                                                                                                                                                                                                                                                            .then(response => response.json())
                                                                                                                                                                                                                                                                                    .then(data => {
                                                                                                                                                                                                                                                                                                if (data[0].Status === "Success") {
                                                                                                                                                                                                                                                                                                                document.getElementById("pinResult").innerHTML = `
                                                                                                                                                                                                                                                                                                                                    <p><strong>Location:</strong> ${data[0].PostOffice[0].Name}, ${data[0].PostOffice[0].District}</p>
                                                                                                                                                                                                                                                                                                                                                        <p><strong>State:</strong> ${data[0].PostOffice[0].State}</p>
                                                                                                                                                                                                                                                                                                                                                                            <p><strong>Country:</strong> ${data[0].PostOffice[0].Country}</p>
                                                                                                                                                                                                                                                                                                                                                                                            `;
                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("pinResult").innerHTML = `<p>Invalid PIN Code</p>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                    .catch(error => document.getElementById("pinResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                    // Country Search (Existing)
                                                                                                                                                                                                                                                                                                                                                                                                                                                    function findCountry() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                        const country = document.getElementById("countryInput").value;
                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (country.trim() === "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    alert("Please enter a valid country name");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    fetch(`https://restcountries.com/v3.1/name/${country}`)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .then(response => response.json())
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(data => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (data.length > 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("countryResult").innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <p><strong>Official Name:</strong> ${data[0].name.official}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p><strong>Capital:</strong> ${data[0].capital}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p><strong>Region:</strong> ${data[0].region}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            `;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("countryResult").innerHTML = `<p>Country not found</p>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .catch(error => document.getElementById("countryResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // Weather Information (Public API, no key required)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    function getWeather() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const city = document.getElementById("weatherInput").value;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (city.trim() === "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    alert("Please enter a valid city name");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    fetch(`https://wttr.in/${city}?format=%C+%t+%w+%h+%l`) // Simple weather info
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .then(response => response.text())
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(data => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("weatherResult").innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p><strong>Weather Info:</strong> ${data}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            `;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .catch(error => document.getElementById("weatherResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            // Currency Converter (Public API, no key required)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            function convertCurrency() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const fromCurrency = document.getElementById("currencyFrom").value;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const toCurrency = document.getElementById("currencyTo").value;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (fromCurrency.trim() === "" || toCurrency.trim() === "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                alert("Please enter both currencies");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                fetch(`https://api.exchangerate-api.com/v4/latest/${fromCurrency}`)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        .then(response => response.json())
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                .then(data => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const rate = data.rates[toCurrency];
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (rate) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("currencyResult").innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p><strong>1 ${fromCurrency} = </strong> ${rate} ${toCurrency}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            `;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("currencyResult").innerHTML = `<p>Currency not supported</p>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .catch(error => document.getElementById("currencyResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // IP Geolocation (Public API, no key required)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    function getIPLocation() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const ip = document.getElementById("ipInput").value;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (ip.trim() === "") {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    alert("Please enter a valid IP address");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    fetch(`https://ipinfo.io/${ip}/json`)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .then(response => response.json())
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    .then(data => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("ipResult").innerHTML = `
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p><strong>IP:</strong> ${data.ip}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p><strong>Location:</strong> ${data.city}, ${data.region}, ${data.country}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <p><strong>Location Details:</strong> ${data.loc}</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            `;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            .catch(error => document.getElementById("ipResult").innerHTML = `<p>Error fetching data</p>`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }